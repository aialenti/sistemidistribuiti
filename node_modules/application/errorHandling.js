/* 
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

// L'invio sul client dovr√† essere realizzato tramite long polling e socketio
var handleQueryError = function(e){
  var message = e.message;
  var code = e.code;
  console.log(message);
  switch(code){
    case "ER_NO_REFERENCED_ROW_":
      if(message.match(/FOREIGN KEY \(\`home\_team\`\)/))
        console.log("Squadra in casa non esistente");
      if(message.match(/FOREIGN KEY \(\`away\_team\`\)/))
        console.log("Squadra fuori casa non esistente");
      if(message.match(/FOREIGN KEY \(\`matchdays\_flag\`\, \`matchdays\_number\`\, \`matchdays\_season\`\)/)) //giornata non esistente
        console.log("Giornata non esistente");
      if(message.match(/ /)) {
        console.log('Wrong username or password');
        return 'Wrong username or password!';
      };
    break;
    default:
      break;
  }
}

exports.handleQueryError = handleQueryError;