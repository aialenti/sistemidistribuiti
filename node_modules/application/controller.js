/* 
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

var model = require('./model.js');
var crypto = require('./libs/md5.js');

//callback da eseguire dopo la query
callback = function(rows){
  console.log(rows);
}

//esecuzione della query
//model.executeQuery(query,callback);

var getIndex = function(req,res){
  
  console.log("dkjbsakdsa")
  //res.render('index', { title: 'Express' });
  var body = 'Hello World';
  res.setHeader('Content-Type', 'text/plain');
  res.setHeader('Content-Length', body.length);
  res.end(body);
  
}

var doLogin = function(req, res) {
  model.getParam(req,"id");
  var data1 = new Object;
  data1.table = "tabella";
  data1.select = ["abcd", "123"];
  data1.where = [
    ["abcd.x", "=", "343"]]
  ;
  var data = new Object;
  data.table = "tabella";
  data.valueSet = [
    ["abcd", "123"],
    ["defg", "345"]
  ]
  data.where = [
    ["abcd.x", "=", "343"],
    ["zdfse", "IN", model.searchQuery(data1)]
  ];
  console.log(model.updateQuery(data));
  res.render('index', { pageTitle: 'ciao', youAreUsingJade: 'true' });  
}

var manageMatch = function(req, res) {
  var action = model.getParam("action");
  var currentDay = model.getParam("day");

  switch (action) {
    case "create":
    break;
    case "edit":
    break;
    case "delete":
    break;
    default:
    console.log("Error");
  }
}

var manageScore = function(req, res) {
//create, edit, delete
}

var manageMatchDay = function(req, res) {

}

var manageTeam = function(req, res) {
//extra	
}


exports.getIndex = getIndex;
exports.doLogin = doLogin;
exports.manageMatch = manageMatch;
exports.manageScore = manageScore;
exports.manageTeam = manageTeam;
